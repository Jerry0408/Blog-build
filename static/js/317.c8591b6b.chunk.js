"use strict";(self.webpackChunkgeeksblog_react=self.webpackChunkgeeksblog_react||[]).push([[317],{5317:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(2791),o=t(6525),a=(t(7406),t(3613)),c=t(6199),i=a.ZP;i.Header=a.h4,i.Footer=a.$_,i.Content=a.VY,i.Sider=c.Z;var l=i,s=t(8787),u=t(6014),f=t(32),d=t(1413),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z"}}]},name:"diff",theme:"outlined"},m=t(4291),h=function(e,n){return r.createElement(m.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:n,icon:v}))};h.displayName="DiffOutlined";var p=r.forwardRef(h),g=t(1752),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},x=function(e,n){return r.createElement(m.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:n,icon:y}))};x.displayName="HomeOutlined";var Z=r.forwardRef(x),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},b=function(e,n){return r.createElement(m.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:n,icon:C}))};b.displayName="LogoutOutlined";var k=r.forwardRef(b),E=t(7689),w=t(184),O=l.Header,N=l.Sider,j=(0,f.Pi)((function(){var e=(0,o.o)(),n=e.loginStore,t=e.userStore,a=e.channelStore,c=(0,E.TH)().pathname,i=(0,E.s0)();(0,r.useEffect)((function(){t.getUserInfo(),a.loadChannelList()}),[t,a]);var f=[{key:"article",icon:(0,w.jsx)(p,{}),label:"Content Management"},{key:"publish",icon:(0,w.jsx)(g.Z,{}),label:"Aritical Publishing"},{key:"home",icon:(0,w.jsx)(Z,{}),label:"Data Overview"}],d=function(e){return[e.slice(8)]};return(0,w.jsxs)(l,{children:[(0,w.jsxs)(O,{className:"header",children:[(0,w.jsx)("div",{className:"logo"}),(0,w.jsxs)("div",{className:"user-info",children:[(0,w.jsx)("span",{className:"user-name",children:t.userInfo.name}),(0,w.jsx)("span",{className:"user-logout",children:(0,w.jsxs)(s.Z,{title:"Confirm Sign out?",cancelText:"Cancel",okText:"Yes",onConfirm:function(){n.clearToken(),i("/login",{replace:!0})},children:[(0,w.jsx)(k,{})," Sign out"]})})]})]}),(0,w.jsxs)(l,{children:[(0,w.jsx)(N,{width:200,className:"site-layout-background",children:(0,w.jsx)(u.Z,{mode:"inline",theme:"dark",defaultSelectedKeys:d(c),selectedKeys:d(c),style:{height:"100%",borderRight:0},items:f,onClick:function(e){var n=e.key;i(n,{replace:!0})}})}),(0,w.jsx)(l,{className:"layout-content",style:{padding:20},children:(0,w.jsx)(E.j3,{})})]})]})}))},6525:function(e,n,t){t.d(n,{o:function(){return p}});var r=t(3144),o=t(5671),a=t(2791),c=t(4165),i=t(5861),l=t(4098),s=t(7406),u=(0,r.Z)((function e(){var n=this;(0,o.Z)(this,e),this.channelList=[],this.loadChannelList=(0,i.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.dJ.get("/channels");case 2:t=e.sent,n.channelList=t.data.data.channels;case 4:case"end":return e.stop()}}),e)}))),(0,l.ky)(this)})),f=(0,r.Z)((function e(){var n=this;(0,o.Z)(this,e),this.token=(0,s.LP)()||"",this.getToken=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t){var r,o,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.mobile,o=t.code,e.next=3,s.dJ.post("http://geek.itheima.net/v1_0/authorizations",{mobile:r,code:o});case 3:a=e.sent,n.token=a.data.data.token,(0,s.o4)(n.token);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.clearToken=function(){n.token="",(0,s.gy)()},(0,l.ky)(this)})),d=f,v=(0,r.Z)((function e(){var n=this;(0,o.Z)(this,e),this.userInfo={},this.getUserInfo=(0,i.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.dJ.get("/user/profile");case 2:t=e.sent,(0,l.z)((function(){n.userInfo=t.data.data}));case 4:case"end":return e.stop()}}),e)}))),(0,l.ky)(this)})),m=(0,r.Z)((function e(){(0,o.Z)(this,e),this.loginStore=new d,this.userStore=new v,this.channelStore=new u})),h=a.createContext(new m),p=function(){return a.useContext(h)}},1752:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),o=t(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},c=t(4291),i=function(e,n){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:a}))};i.displayName="EditOutlined";var l=o.forwardRef(i)},8787:function(e,n,t){t.d(n,{Z:function(){return L}});var r=t(7462),o=t(9439),a=t(187),c=t(1694),i=t.n(c),l=t(5179),s=t(1354),u=t(2791),f=t(1929),d=t(5945),v=function(e){return e?"function"===typeof e?e():e:null},m=t(9464),h=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},p=function(e){var n=e.title,t=e.content,r=e.prefixCls;return n||t?u.createElement(u.Fragment,null,n&&u.createElement("div",{className:"".concat(r,"-title")},v(n)),u.createElement("div",{className:"".concat(r,"-inner-content")},v(t))):null};var g=u.forwardRef((function(e,n){var t=e.prefixCls,o=e.title,a=e.content,c=e._overlay,i=e.placement,l=void 0===i?"top":i,s=e.trigger,v=void 0===s?"hover":s,g=e.mouseEnterDelay,y=void 0===g?.1:g,x=e.mouseLeaveDelay,Z=void 0===x?.1:x,C=e.overlayStyle,b=void 0===C?{}:C,k=h(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),E=u.useContext(f.E_).getPrefixCls,w=E("popover",t),O=E();return u.createElement(d.Z,(0,r.Z)({placement:l,trigger:v,mouseEnterDelay:y,mouseLeaveDelay:Z,overlayStyle:b},k,{prefixCls:w,ref:n,overlay:c||u.createElement(p,{prefixCls:w,title:o,content:a}),transitionName:(0,m.mL)(O,"zoom-big",k.transitionName)}))})),y=t(1113),x=t(7309),Z=t(2571),C=t(8368);function b(e){return!(!e||!e.then)}var k=function(e){var n=u.useRef(!1),t=u.useRef(),a=(0,C.Z)(!1),c=(0,o.Z)(a,2),i=c[0],l=c[1],s=e.close,f=function(){null===s||void 0===s||s.apply(void 0,arguments)};u.useEffect((function(){var n;if(e.autoFocus){var r=t.current;n=setTimeout((function(){return r.focus()}))}return function(){n&&clearTimeout(n)}}),[]);var d=e.type,v=e.children,m=e.prefixCls,h=e.buttonProps;return u.createElement(x.Z,(0,r.Z)({},(0,Z.n)(d),{onClick:function(t){var r=e.actionFn;if(!n.current)if(n.current=!0,r){var o;if(e.emitEvent){if(o=r(t),e.quitOnNullishReturnValue&&!b(o))return n.current=!1,void f(t)}else if(r.length)o=r(s),n.current=!1;else if(!(o=r()))return void f();!function(e){b(e)&&(l(!0),e.then((function(){l(!1,!0),f.apply(void 0,arguments),n.current=!1}),(function(e){console.error(e),l(!1,!0),n.current=!1})))}(o)}else f()},loading:i,prefixCls:m},h,{ref:t}),v)},E=t(3486),w=t(454),O=function(e){var n=e.prefixCls,t=e.okButtonProps,o=e.cancelButtonProps,a=e.title,c=e.cancelText,i=e.okText,l=e.okType,s=e.icon,d=e.showCancel,m=void 0===d||d,h=e.close,p=e.onConfirm,g=e.onCancel,y=u.useContext(f.E_).getPrefixCls;return u.createElement(E.Z,{componentName:"Popconfirm",defaultLocale:w.Z.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(n,"-inner-content")},u.createElement("div",{className:"".concat(n,"-message")},s&&u.createElement("span",{className:"".concat(n,"-message-icon")},s),u.createElement("div",{className:"".concat(n,"-message-title")},v(a))),u.createElement("div",{className:"".concat(n,"-buttons")},m&&u.createElement(x.Z,(0,r.Z)({onClick:g,size:"small"},o),null!==c&&void 0!==c?c:e.cancelText),u.createElement(k,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,Z.n)(l)),t),actionFn:p,close:h,prefixCls:y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==i&&void 0!==i?i:e.okText)))}))},N=void 0,j=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},L=u.forwardRef((function(e,n){var t=u.useContext(f.E_).getPrefixCls,c=(0,l.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),d=(0,o.Z)(c,2),v=d[0],m=d[1],h=function(n,t){var r,o;m(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,t),null===(o=e.onOpenChange)||void 0===o||o.call(e,n,t)},p=e.prefixCls,x=e.placement,Z=void 0===x?"top":x,C=e.trigger,b=void 0===C?"click":C,k=e.okType,E=void 0===k?"primary":k,w=e.icon,L=void 0===w?u.createElement(a.Z,null):w,V=e.children,P=e.overlayClassName,S=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),z=t("popover",p),T=t("popconfirm",p),H=i()(T,P);return u.createElement(g,(0,r.Z)({},S,{trigger:b,prefixCls:z,placement:Z,onOpenChange:function(n){var t=e.disabled;void 0!==t&&t||h(n)},open:v,ref:n,overlayClassName:H,_overlay:u.createElement(O,(0,r.Z)({okType:E,icon:L},e,{prefixCls:z,close:function(e){h(!1,e)},onConfirm:function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(N,n)},onCancel:function(n){var t;h(!1,n),null===(t=e.onCancel)||void 0===t||t.call(N,n)}}))}),(0,y.Tm)(V,{onKeyDown:function(e){var n,t;u.isValidElement(V)&&(null===(t=null===V||void 0===V?void 0:(n=V.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===s.Z.ESC&&v&&h(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=317.c8591b6b.chunk.js.map